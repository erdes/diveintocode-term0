# Gitとは

Gitはバージョン管理ツールの一つです。

一人で開発とかしている場合もそうですが、とりわけ複数の人で開発している場合に、Gitを利用して管理することにより、誰がいつ、どのファイルを編集したのかが管理しやすくなります。

Gitの他にも同様のツールはありますが、Gitが一番メジャーなツールです。

具体的なメリットとしては以下のようなことが挙げられます。

- 変更内容を把握できる。
- 変更内容の間お差分を把握できる。
- 過去の状態に戻すことができる。
- 他の人が編集した内容を誤って削除することがない。


# Git init コマンド

## 概要
git init はレポジトリの初期化を行うコマンドです。

すでにあるリポジトリに対してgit initを行っても、見た目上は何も変わりません。

保存してあるファイルが消えるわけでもないですし、コミットのログが消えるわけでもありません。

実際、Gitのドキュメントにはこんなことが書かれています。

>Running git init in an existing repository is safe. It will not overwrite things that are already there. The primary reason for rerunning git init is to pick up newly added templates (or to move the repository to another place if --separate-git-dir is given).
>
> 引用元 : https://git-scm.com/docs/git-init

ということで、とりあえず新しくレポジトリを作成したら行う「おまじない」のようなものだと思っておくことにします。

## .gitディレクトリついて

.gitディレクトリはgitを使用するのに必要な情報からなるファイル群です。

いくつか例をあげると、

- ユーザー名やユーザーのメールアドレス
- コミットしたファイルの圧縮ファイルやその関連ファイル
- ブランチや各ファイルへの参照情報(=ポインタ？)

などです。

逆にいうのであれば、

「ソースのファイルだけ残して、でもgitのことは完全に一回リセットしたい」

というときは、この.gitディレクトリごと消してしまいます。


# git addについて

gitには、大きく「ソースコード」、「ステージングエリア」、「レポジトリ」の三つがあります。

ソースコードはいいとして、レポジトリはgitの管理下の領域のことです。

ステージングエリアはレポジトリへ登録する前段階のエリアです。

commitをすると、ステージングエリアにあるファイルがレポジトリへ登録されるわけですが、そのステージングエリアにソースファイルを移すコマンドがgit add です。

逆にいえば、commit時にすべてのソースファイルがレポジトリへ行くわけではなく、あらかじめステージングエリアに置いておいたファイルのみがレポジトリへ登録されます。

例えば、hoge.htmlというファイルをステージングエリアに登録するには、

`$ git add hoge.html`

とコマンドを打ちます。

逆に、ステージングエリアから削除するには

`$git reset hoge.html`

とします。

ファイル名を指定せずに

`$git reset`

とすれば、ステージングエリアにある全ファイルが削除されます。


# git commitについて

git commit はステージングエリアに登録されているファイルをレポジトリへ登録されている作業です。

またコミットのログを確認するには

`$git log`

というコマンドで行います。

コミットを取り消すには、

`$git reset --soft [コミットの指定]`

かもしくは

`$git reset --hard [コミットの指定]`

で行います。

softの場合はコミットだけを削除し、hardの場合は、コミットとローカルフォルダのファイル自体も削除します。

コミットの指定の仕方は、様々ありますが、一例をあげれば「HEAD＾」が直前のコミットの意味なります。

ということで、問題分に定時されていた「commit message 1」までコミットを戻す方法は以下のようになります。


```
$git reset --soft HEAD^  
$git reset --soft HEAD^
```
